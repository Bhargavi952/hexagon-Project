<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/header.css">
    <link rel="stylesheet" href="./style/wallpaper.css">
    <link rel="stylesheet" href="./style/content.css">
    <link rel="stylesheet" href="./style/threedotspop.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
    <title>Document</title>
</head>

<body>
    <!-- <div id="pop-up-box"></div> -->

    <div id="header-cont"></div>

    <div id="wallpapers-cont">
    </div>


    <div id="photos-cont"></div>

    <script type="module">

        import { header } from "./components/header.js"
        import { Nature } from "./components/Nature.js"
        import content from "./components/Nature-content.js"
        document.body.append(content());
        var header_cont = document.getElementById("header-cont");
        var wallpapers_cont = document.getElementById("wallpapers-cont")

        header_cont.appendChild(header())

        Nature(wallpapers_cont)

        document.getElementById("btn").addEventListener("click", function showMe() {
            document.getElementById("submit-btn-box").style.display = "block";

        })

        document.getElementById("submit-btn").addEventListener("click", function popupToggle() {

            var pop_up_box = document.getElementById("pop-up-box");
            pop_up_box.classList.toggle('active')
        })

        document.getElementById("close-btn").addEventListener("click", function popupToggle() {


            var pop_up_box = document.getElementById("pop-up-box");
            pop_up_box.classList.toggle('active')
        })



        function main() {
            // var inputFileToLoad = document.createElement("input");
            // inputFileToLoad.type = "file";
            // inputFileToLoad.id = "inputFileToLoad";
            // document.body.appendChild(inputFileToLoad);

            var upload_file_plus_btn = document.getElementById("upload-file-plus-btn");
            upload_file_plus_btn.onclick = grabUrl;
            upload_file_plus_btn.value = "upload image";
            // document.body.appendChild(buttonLoadFile);
        }

        function grabUrl() {
            var myImg = document.getElementById("my-files").files;
            console.log(myImg)
            if (myImg.length > 0) {

                var img_to_upload = myImg[0];

                if (img_to_upload.type.match("image.*")) {
                    var fileReader = new FileReader();
                    fileReader.onload = function (e) {
                        var upload_img = document.createElement("img");
                        upload_img.src = e.target.result;
                        upload_img.setAttribute("id", "my-img")
                        document.getElementById("img-box").append(upload_img)
                        // document.body.appendChild(upload_img);
                    };
                    fileReader.readAsDataURL(img_to_upload);
                }
            }
        }

        main();
    //    var files = document.getElementById("my-files").files;
    //    files.onchange = function() {

    //     var obj = files.files
    // console.log(obj[0])
    //     var img = document.getElementById("my-img");
    //     // var reader = new FileReader();

    //     // reader.readAsDataURL(obj[0].name);

    //     img.setAttribute("src",obj[0].name)

         //localStorage.setItem("url",JSON.stringify(files.files))

    </script>
</body>

</html>